<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="../style.css">
		<title>Movies</title>
		<meta charset = "UTF-8">
                <link href="../font-awesome/css/font-awesome.min.css" rel="stylesheet">
                
                
                
                
                <script>
                    
                        window.addEventListener("load", init);
                        
                        var the_table;
                        
                        function init() {
                            the_table = document.getElementById("the_movies");
                            createTable();
                        }
                        
                     function createTable() {
                        
                        if (window.XMLHttpRequest)
                            {// code for IE7+, Firefox, Chrome, Opera, Safari
                            xmlhttp=new XMLHttpRequest();
                            }
                          else
                            {// code for IE6, IE5
                            xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
                            }
                          xmlhttp.open("GET","http://folk.ntnu.no/nilsad/prosjekt/movies/movies.xml",false);
                          xmlhttp.send();
                          xmlDoc=xmlhttp.responseXML; 
                        
                        var x=xmlDoc.getElementsByTagName("movie");
                        var counter = 0;
                        var itemcounter = 0;
                        
                        for (t=0;t<x.length/4;t++)
                          { 
                              var row = the_table.insertRow();
                              var row2 = the_table.insertRow()
                              if (t < x.length/4-1)row2.className = "not_last";
                              
                              
                              for (i=0;i<4;i++) {
                                  
                                  var image = x[itemcounter].getElementsByTagName("image")[0].childNodes[0].nodeValue;
                                  var title = x[itemcounter].getElementsByTagName("title")[0].childNodes[0].nodeValue;
                                  var category = x[itemcounter].getElementsByTagName("category")[0].childNodes[0].nodeValue;
                                  var cell = row.insertCell();
                                  var cell2 = row2.insertCell();
                                  cell.innerHTML = "<img src='" + image + "' alt='Movie poster' />";
                                  cell2.innerHTML = "<a href=''>" + title + " (" + category + ")" + "</a>";
                                  itemcounter++;
                              }
                          
                          
                          
                        
                        console.log(counter);
                             
                             
                          
                }
      
                        
    }
                </script>
                    
	</head>

	<body>
            <header>Muvi</header>
        <nav id="navbar">
            <ul id="the-menu">
                <li id="link1"><a href="../"><i class="fa fa-home"></i>Home</a></li>
                <li id="link2" class="selected"><a href=""><i class="fa fa-film"></i>Movies</a></li>
                <li id="link3"><a href="../about/"><i class="fa fa-info-circle"></i>About</a></li>
                <li id="link4"><a href="../faq/"><i class="fa fa-question-circle"></i>FAQ</a></li>
            </ul>
        </nav>
            
        <section id="main_movies">
            <h1 id="movie_header">Movies</h1>
            <hr />
            
            <table cellspacing="20">
                <tbody id="the_movies">
                    <tr id="row1"></tr>
                    <tr id="row2"></tr>
                    <tr id="row3"></tr>
                    <tr id="row4"></tr>
                      


                </tbody>
            </table>
            
        </section>
            
        <footer></footer>

	</body>

</html>