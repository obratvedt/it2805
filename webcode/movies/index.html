<!DOCTYPE html>
<html>
    <head>
	<link rel="stylesheet" type="text/css" href="../style.css">
        <link href="../font-awesome/css/font-awesome.min.css" rel="stylesheet">
        <script src="movies.js"></script>
	<title>Movies</title>
	<meta charset = "UTF-8">
        <script type="text/javascript">
            window.addEventListener("load", init);            
            var the_table;
             
            function init() {
                the_table = document.getElementById("the_movies");
                createTable();
            }
                        
            function createTable() {
                var x=getMovies();
                var itemcounter = 0;
                        
                for (t=0;t<x.length/4;t++) { 
                    var row = the_table.insertRow();
                    var row2 = the_table.insertRow();
                    if (t < x.length/4-1)
                        row2.className = "not_last";
                    for (i=0;i<4;i++) {
                        var image = x[itemcounter].getElementsByTagName("image")[0].childNodes[0].nodeValue;
                        var title = x[itemcounter].getElementsByTagName("title")[0].childNodes[0].nodeValue;
                        var year = x[itemcounter].getElementsByTagName("year")[0].childNodes[0].nodeValue;
                        var cell = row.insertCell();
                        var cell2 = row2.insertCell();
                        //var formName = "sendId"+itemcounter;
                        //cell.innerHTML = "<form method='LINK' action='movie.html' id='"+formName+"'><input type='text' name='movieId' value='"+ itemcounter +"'></form><a onclick=\"document.getElementById('"+formName+"').submit();\"><img src='" + image + "' alt='Poster of " + title + "'/></a>";
                        cell.innerHTML = "<a href='movie.html?movieId="+itemcounter+"'><img src='" + image + "' alt='Poster of " + title + "'/></a>";
                        cell2.innerHTML = "<a href='movie.html?movieId="+itemcounter+"'>" + title + " (" + year + ")</a>";
                        console.log(itemcounter);
                        itemcounter++;
                    }    
                }
            }
        </script>        
    </head>
    <body>
        <header>Muvi</header>
        <nav id="navbar">
            <ul id="the-menu">
                <li id="link1"><a href="../"><i class="fa fa-home"></i>Home</a></li>
                <li id="link2" class="selected"><a href="index.html"><i class="fa fa-film"></i>Movies</a></li>
                <li id="link3"><a href="../about/"><i class="fa fa-info-circle"></i>About</a></li>
                <li id="link4"><a href="../faq/"><i class="fa fa-question-circle"></i>FAQ</a></li>
            </ul>
        </nav>
            
        <section id="main_movies">
            <h1 id="movie_header">Movies</h1>
            <hr /> 
            <table cellspacing="20">
                <tbody id="the_movies">
                    <tr id="row1"></tr>
                    <tr id="row2"></tr>
                    <tr id="row3"></tr>
                    <tr id="row4"></tr>
                </tbody>
            </table>
            <footer>Muvi is a web page for learning purposes only. Images and information about movies are all courtesy of IMDB.com</footer>
        </section>
	</body>

</html>